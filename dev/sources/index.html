<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Source Models · TTCalX Documentation</title><meta name="title" content="Source Models · TTCalX Documentation"/><meta property="og:title" content="Source Models · TTCalX Documentation"/><meta property="twitter:title" content="Source Models · TTCalX Documentation"/><meta name="description" content="Documentation for TTCalX Documentation."/><meta property="og:description" content="Documentation for TTCalX Documentation."/><meta property="twitter:description" content="Documentation for TTCalX Documentation."/><meta property="og:url" content="https://nkosogor.github.io/TTCalX/sources/"/><meta property="twitter:url" content="https://nkosogor.github.io/TTCalX/sources/"/><link rel="canonical" href="https://nkosogor.github.io/TTCalX/sources/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TTCalX Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../calibration/">Calibration</a></li><li class="is-active"><a class="tocitem" href>Source Models</a><ul class="internal"><li><a class="tocitem" href="#Source-File-Format"><span>Source File Format</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Spectral-Model"><span>Spectral Model</span></a></li><li><a class="tocitem" href="#Source-Types"><span>Source Types</span></a></li><li><a class="tocitem" href="#Peeling-Wrappers"><span>Peeling Wrappers</span></a></li></ul></li><li><a class="tocitem" href="../kernels/">GPU Kernels</a></li><li><a class="tocitem" href="../msio/">MS I/O</a></li><li><a class="tocitem" href="../cli/">CLI Reference</a></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Source Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Source Models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/nkosogor/TTCalX" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/nkosogor/TTCalX/blob/main/docs/src/sources.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Source-Models"><a class="docs-heading-anchor" href="#Source-Models">Source Models</a><a id="Source-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Source-Models" title="Permalink"></a></h1><p>TTCalX reads source models from a JSON file and converts them to GPU-friendly data structures.</p><h2 id="Source-File-Format"><a class="docs-heading-anchor" href="#Source-File-Format">Source File Format</a><a id="Source-File-Format-1"></a><a class="docs-heading-anchor-permalink" href="#Source-File-Format" title="Permalink"></a></h2><p>The source file is a JSON array of source objects. Each source has:</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Required</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>name</code></td><td style="text-align: right">✓</td><td style="text-align: right">Source name (e.g., <code>&quot;Cyg A&quot;</code>)</td></tr><tr><td style="text-align: right"><code>ra</code></td><td style="text-align: right">✓</td><td style="text-align: right">Right ascension — degrees or <code>&quot;HHhMMmSS.SSs&quot;</code></td></tr><tr><td style="text-align: right"><code>dec</code></td><td style="text-align: right">✓</td><td style="text-align: right">Declination — degrees or <code>&quot;+DDdMMmSS.SSs&quot;</code></td></tr><tr><td style="text-align: right"><code>I</code></td><td style="text-align: right">✓</td><td style="text-align: right">Stokes I flux density (Jy) at reference frequency</td></tr><tr><td style="text-align: right"><code>freq</code></td><td style="text-align: right"></td><td style="text-align: right">Reference frequency (Hz) for the spectral model</td></tr><tr><td style="text-align: right"><code>index</code></td><td style="text-align: right"></td><td style="text-align: right">Spectral index coefficients <code>[α₁, α₂, ...]</code></td></tr><tr><td style="text-align: right"><code>Q</code>, <code>U</code>, <code>V</code></td><td style="text-align: right"></td><td style="text-align: right">Stokes parameters (default: 0)</td></tr><tr><td style="text-align: right"><code>major-fwhm</code></td><td style="text-align: right"></td><td style="text-align: right">Major axis FWHM in arcseconds (Gaussian sources)</td></tr><tr><td style="text-align: right"><code>minor-fwhm</code></td><td style="text-align: right"></td><td style="text-align: right">Minor axis FWHM in arcseconds (Gaussian sources)</td></tr><tr><td style="text-align: right"><code>position-angle</code></td><td style="text-align: right"></td><td style="text-align: right">Position angle in degrees (Gaussian sources)</td></tr><tr><td style="text-align: right"><code>components</code></td><td style="text-align: right"></td><td style="text-align: right">Array of sub-components for multi-component sources</td></tr></table><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><pre><code class="language-json hljs">[
  {
    &quot;name&quot;: &quot;Cyg A&quot;,
    &quot;components&quot;: [
      {
        &quot;name&quot;: &quot;1&quot;,
        &quot;ra&quot;: &quot;19h59m29.990s&quot;,
        &quot;dec&quot;: &quot;+40d43m57.53s&quot;,
        &quot;I&quot;: 43170.55,
        &quot;freq&quot;: 1.0e6,
        &quot;index&quot;: [0.085, -0.178],
        &quot;major-fwhm&quot;: 127.87,
        &quot;minor-fwhm&quot;: 22.46,
        &quot;position-angle&quot;: -74.50
      },
      {
        &quot;name&quot;: &quot;2&quot;,
        &quot;ra&quot;: &quot;19h59m24.316s&quot;,
        &quot;dec&quot;: &quot;+40d44m50.70s&quot;,
        &quot;I&quot;: 6374.46,
        &quot;freq&quot;: 1.0e6,
        &quot;index&quot;: [0.085, -0.178],
        &quot;major-fwhm&quot;: 183.43,
        &quot;minor-fwhm&quot;: 141.44,
        &quot;position-angle&quot;: 43.45
      }
    ]
  },
  {
    &quot;name&quot;: &quot;Cas A&quot;,
    &quot;ra&quot;: &quot;23h23m27.94s&quot;,
    &quot;dec&quot;: &quot;+58d48m42.4s&quot;,
    &quot;I&quot;: 22000.0,
    &quot;freq&quot;: 1.0e6,
    &quot;index&quot;: [0.3, -0.2]
  }
]</code></pre><h2 id="Spectral-Model"><a class="docs-heading-anchor" href="#Spectral-Model">Spectral Model</a><a id="Spectral-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Spectral-Model" title="Permalink"></a></h2><p>Source flux follows a log-polynomial model:</p><p class="math-container">\[\log S(\nu) = \log S_0 + \alpha_1 \log\!\left(\frac{\nu}{\nu_0}\right) + \alpha_2 \left[\log\!\left(\frac{\nu}{\nu_0}\right)\right]^2 + \cdots\]</p><p>This is implemented in <code>GPUPowerLaw</code> which stores:</p><ul><li><code>I, Q, U, V</code> — Stokes parameters at the reference frequency</li><li><code>reference_frequency</code> — <span>$\nu_0$</span></li><li><code>index</code> — coefficients <span>$[\alpha_1, \alpha_2, \ldots]$</span></li></ul><h2 id="Source-Types"><a class="docs-heading-anchor" href="#Source-Types">Source Types</a><a id="Source-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Source-Types" title="Permalink"></a></h2><h3 id="Point-Source-(GPUPointSource)"><a class="docs-heading-anchor" href="#Point-Source-(GPUPointSource)">Point Source (<code>GPUPointSource</code>)</a><a id="Point-Source-(GPUPointSource)-1"></a><a class="docs-heading-anchor-permalink" href="#Point-Source-(GPUPointSource)" title="Permalink"></a></h3><p>Unresolved source. Model visibilities are pure fringes with flux scaling.</p><h3 id="Gaussian-Source-(GPUGaussianSource)"><a class="docs-heading-anchor" href="#Gaussian-Source-(GPUGaussianSource)">Gaussian Source (<code>GPUGaussianSource</code>)</a><a id="Gaussian-Source-(GPUGaussianSource)-1"></a><a class="docs-heading-anchor-permalink" href="#Gaussian-Source-(GPUGaussianSource)" title="Permalink"></a></h3><p>Resolved source with an elliptical Gaussian shape. The baseline coherency is attenuated by the Fourier transform of the Gaussian envelope.</p><h3 id="Multi-component-Source-(GPUMultiSource)"><a class="docs-heading-anchor" href="#Multi-component-Source-(GPUMultiSource)">Multi-component Source (<code>GPUMultiSource</code>)</a><a id="Multi-component-Source-(GPUMultiSource)-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-component-Source-(GPUMultiSource)" title="Permalink"></a></h3><p>A source composed of multiple sub-components (each a point or Gaussian source). Model visibilities are the sum of all component contributions.</p><h2 id="Peeling-Wrappers"><a class="docs-heading-anchor" href="#Peeling-Wrappers">Peeling Wrappers</a><a id="Peeling-Wrappers-1"></a><a class="docs-heading-anchor-permalink" href="#Peeling-Wrappers" title="Permalink"></a></h2><p>Each source is wrapped in one of four peeling types that controls the calibration strategy:</p><table><tr><th style="text-align: right">Wrapper</th><th style="text-align: right">Jones type</th><th style="text-align: right">Frequency</th><th style="text-align: right">Function</th></tr><tr><td style="text-align: right"><code>GPUPeelingSource</code></td><td style="text-align: right">Diagonal</td><td style="text-align: right">Per-channel</td><td style="text-align: right"><code>peel_gpu!</code></td></tr><tr><td style="text-align: right"><code>GPUShavingSource</code></td><td style="text-align: right">Diagonal</td><td style="text-align: right">Wideband</td><td style="text-align: right"><code>shave_gpu!</code></td></tr><tr><td style="text-align: right"><code>GPUZestingSource</code></td><td style="text-align: right">Full 2×2</td><td style="text-align: right">Per-channel</td><td style="text-align: right"><code>zest_gpu!</code></td></tr><tr><td style="text-align: right"><code>GPUPruningSource</code></td><td style="text-align: right">Full 2×2</td><td style="text-align: right">Wideband</td><td style="text-align: right"><code>prune_gpu!</code></td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../calibration/">« Calibration</a><a class="docs-footer-nextpage" href="../kernels/">GPU Kernels »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 9 February 2026 21:51">Monday 9 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
